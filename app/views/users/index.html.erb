<p id="notice"><%= notice %></p>

<h1>Class Roster</h1>

<table class="table table-striped">
  <thead class="thead-color">
    <tr>
      <th>Name</th>
      <th>Email</th>
      <th>Role</th>
      <th>Group ID</th>
      <th>Group Name</th>
      <% if current_user.isTeacher %>
        <th colspan="3">Options</th>
      <% end %>
    </tr>
  </thead>

  <tbody>
    <% @users.each do |user| %>
      <tr>
        <td><%= user.name %></td>
        <td><%= user.email %></td>
        <% if user.isTeacher %>
          <td> Teacher </td>

        <% else %>
          <td> Student </td>
        <% end %>

        <td><%= user.group_id %></td>
        <% if (user.group_id != nil) %>
          <td><%= user.group.name %></td>
        <% else %>
          <td>  </td>
        <% end %>

        <% if current_user.isTeacher %>
          <td><%= link_to 'Show', user %></td>
          <td><%= link_to 'Edit', edit_user_path(user) %></td>
          <% if current_user != user %>
            <td><%= link_to 'Destroy', user, method: :delete, data: { confirm: 'Are you sure?' } %></td>
          <% end %>
        <% end %>
      </tr>
    <% end %>
  </tbody>
</table>

<br>

<% if current_user.isTeacher %>
  <div class="text-center"> <%= link_to 'New User', new_user_path, class: "btn btn-primary mb-2"%> </div>
<% end %>
